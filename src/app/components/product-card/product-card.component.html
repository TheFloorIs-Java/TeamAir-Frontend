<div class="card" style="width: 18rem">
  <img class="card-img-top" [src]="productInfo.image" alt="Card image cap" />
  <div class="card-body">
    <h5 class="card-title">{{ productInfo.name }}</h5>
    <p class="card-text">{{ productInfo.description }}</p>
  </div>
  <div class="input-group input-group-sm mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="inputGroup-sizing-sm">$</span>
    </div>
    <input
      type="number"
      class="form-control"
      aria-label="Sizing example input"
      [value]="productInfo.price | number : '1.2-2'"
      aria-describedby="inputGroup-sizing-sm"
      disabled
    />
  </div>
  <div class="input-group input-group-sm mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="inputGroup-sizing-sm"
        >Quantity in Stock</span
      >
    </div>
    <input
      type="number"
      class="form-control"
      aria-label="Sizing example input"
      [value]="productInfo.quantity"
      aria-describedby="inputGroup-sizing-sm"
      disabled
    />
  </div>
  <div class="card-body2">
    <div class="addbutton">
      <button class="btn btn-outline-success" (click)="addToCart(productInfo)">
        Add to Cart
      </button>
    </div>
    <div class="quantity">
      <input
        [(ngModel)]="quantity"
        type="number"
        min="0"
        max="{{ productInfo.quantity }}"
      />
    </div>
    <div (click)="viewReviews()" class="btn btn-light">
  Rating:
    {{getAverage(productInfo.reviews) | number : '1.0-1'}}
    </div>
  </div>
  <div *ngIf="addReviewButton" class="viewAndAddReview" >
    <div *ngFor="let review of productInfo.reviews" class="{{this.changeColorOfReview(review.rating)}}" >
     {{review.rating}}-{{review.message}}
    </div>
    <div class="inputValues">
      <div class="inputs">
        <span class="title">Rating (1-10):</span>
        <input [(ngModel)]="newRating" type="range" min="1" max="10" /> {{newRating}}
      </div>
      <div class="inputs">
        <span  class="title" >Review: </span>
        <textarea  class="form-control" [(ngModel)]="newMessage" ></textarea>
      </div>
   </div>
   <button class="btn btn-outline-success"(click)="addReview()"> Add Review</button>
  </div>
  <div [hidden] = "!quantityerror">
    <p class = "error">Cannot add to cart! Not enough in stock.</p>
  </div>
  <div [hidden] = "!cartquantityerror">
    <p class = "error">Cannot add to cart! Amount in cart would exceed quantity in stock</p>
  </div>
</div>
